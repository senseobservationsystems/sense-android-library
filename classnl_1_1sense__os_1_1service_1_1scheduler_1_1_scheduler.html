<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Sense Android Library: nl.sense_os.service.scheduler.Scheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Sense Android Library
   &#160;<span id="projectnumber">2.7.0</span>
   </div>
   <div id="projectbrief">Android library project for the Sense Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nl.sense_os.service.scheduler.Scheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_1_1_task.html">Task</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1e1af50be732f3cb4a814d75e76dcf0d"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a1e1af50be732f3cb4a814d75e76dcf0d">register</a> (Runnable command, long sensorInterval, long sensorFlexibility)</td></tr>
<tr class="separator:a1e1af50be732f3cb4a814d75e76dcf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab85308205a7415cf38ce2b54d52b503"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#aab85308205a7415cf38ce2b54d52b503">unregister</a> (Runnable command)</td></tr>
<tr class="separator:aab85308205a7415cf38ce2b54d52b503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a08f8125a62f1ea053344fd3df4955a01"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html">Scheduler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a08f8125a62f1ea053344fd3df4955a01">getInstance</a> (Context context)</td></tr>
<tr class="separator:a08f8125a62f1ea053344fd3df4955a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af7cb033c70d251f6a386a44a15ce256b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#af7cb033c70d251f6a386a44a15ce256b">Scheduler</a> (Context context)</td></tr>
<tr class="separator:af7cb033c70d251f6a386a44a15ce256b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae75abee91f9ba3e26e8c6d265a9dd60e"><td class="memItemLeft" align="right" valign="top">final Context&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">mContext</a></td></tr>
<tr class="separator:ae75abee91f9ba3e26e8c6d265a9dd60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3ff8318a5d841ef34fa7197601057b"><td class="memItemLeft" align="right" valign="top">CopyOnWriteArrayList&lt; <a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_1_1_task.html">Task</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">mTasks</a> = new CopyOnWriteArrayList&lt;<a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_1_1_task.html">Task</a>&gt;()</td></tr>
<tr class="separator:a9e3ff8318a5d841ef34fa7197601057b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:acf450b13fdaf17189318786e6906c8c8"><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#acf450b13fdaf17189318786e6906c8c8">TAG</a> = &quot;Scheduler&quot;</td></tr>
<tr class="separator:acf450b13fdaf17189318786e6906c8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52bcc765640a6c74c214868a83c9fe4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html">Scheduler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ad52bcc765640a6c74c214868a83c9fe4">sInstance</a></td></tr>
<tr class="separator:ad52bcc765640a6c74c214868a83c9fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is responsible for scheduling the sampling tasks of the phone, as also the sensor data transmission. It applies batch scheduling and opportunistic execution algorithms in order to reduce the number of CPU wakeups and thus the energy consumption.</p>
<dl class="section author"><dt>Author</dt><dd>Kimon Tsitsikas <a href="#" onclick="location.href='mai'+'lto:'+'kim'+'on'+'@se'+'ns'+'e-o'+'s.'+'nl'; return false;">kimon<span style="display: none;">.nosp@m.</span>@sen<span style="display: none;">.nosp@m.</span>se-os<span style="display: none;">.nosp@m.</span>.nl</a> </dd></dl>

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00015">15</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af7cb033c70d251f6a386a44a15ce256b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nl.sense_os.service.scheduler.Scheduler.Scheduler </td>
          <td>(</td>
          <td class="paramtype">Context&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00048">48</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                         {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">mContext</a> = context;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_ae75abee91f9ba3e26e8c6d265a9dd60e"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">nl.sense_os.service.scheduler.Scheduler.mContext</a></div><div class="ttdeci">final Context mContext</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00040">Scheduler.java:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a08f8125a62f1ea053344fd3df4955a01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html">Scheduler</a> nl.sense_os.service.scheduler.Scheduler.getInstance </td>
          <td>(</td>
          <td class="paramtype">Context&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Factory method to get the singleton instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>instance </dd></dl>

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00033">33</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                                         {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ad52bcc765640a6c74c214868a83c9fe4">sInstance</a> == null) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ad52bcc765640a6c74c214868a83c9fe4">sInstance</a> = <span class="keyword">new</span> <a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#af7cb033c70d251f6a386a44a15ce256b">Scheduler</a>(context);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ad52bcc765640a6c74c214868a83c9fe4">sInstance</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_ad52bcc765640a6c74c214868a83c9fe4"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ad52bcc765640a6c74c214868a83c9fe4">nl.sense_os.service.scheduler.Scheduler.sInstance</a></div><div class="ttdeci">static Scheduler sInstance</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00025">Scheduler.java:25</a></div></div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_af7cb033c70d251f6a386a44a15ce256b"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#af7cb033c70d251f6a386a44a15ce256b">nl.sense_os.service.scheduler.Scheduler.Scheduler</a></div><div class="ttdeci">Scheduler(Context context)</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00048">Scheduler.java:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1e1af50be732f3cb4a814d75e76dcf0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void nl.sense_os.service.scheduler.Scheduler.register </td>
          <td>(</td>
          <td class="paramtype">Runnable&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sensorInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sensorFlexibility</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers a new task to be scheduled with a given interval.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>The runnable of the new task </td></tr>
    <tr><td class="paramname">sensorInterval</td><td>Execution interval of the new task </td></tr>
    <tr><td class="paramname">sensorFlexibility</td><td>Delay tolerance of task execution </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00062">62</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                                                                                     {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        Log.v(<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#acf450b13fdaf17189318786e6906c8c8">TAG</a>, <span class="stringliteral">&quot;Register new sample task at &quot;</span> + sensorInterval + <span class="stringliteral">&quot;ms interval&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        ScheduleAlarmTool scheduleTool = ScheduleAlarmTool.getInstance(<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">mContext</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="comment">// prepare task object</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        Task newTask = <span class="keyword">new</span> Task();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        newTask.runnable = command;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        newTask.interval = sensorInterval;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        newTask.flexibility = sensorFlexibility;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="comment">// add the task to the list of tasks</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordtype">int</span> index = -1;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">for</span> (Task task : <a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">mTasks</a>) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (task.runnable.equals(newTask.runnable)) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                index = mTasks.indexOf(task);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> (index != -1) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="comment">// remove existing task (probably interval changed)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            mTasks.remove(index);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="comment">// add new task to the end of the list</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        mTasks.add(newTask);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        scheduleTool.setTasks(<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">mTasks</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        scheduleTool.resetNextExecution();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        scheduleTool.cancelDeterministicAlarm();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        scheduleTool.cancelOpportunisticAlarm();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        scheduleTool.schedule();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_a9e3ff8318a5d841ef34fa7197601057b"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">nl.sense_os.service.scheduler.Scheduler.mTasks</a></div><div class="ttdeci">CopyOnWriteArrayList&lt; Task &gt; mTasks</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00041">Scheduler.java:41</a></div></div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_acf450b13fdaf17189318786e6906c8c8"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#acf450b13fdaf17189318786e6906c8c8">nl.sense_os.service.scheduler.Scheduler.TAG</a></div><div class="ttdeci">static final String TAG</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00024">Scheduler.java:24</a></div></div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_ae75abee91f9ba3e26e8c6d265a9dd60e"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">nl.sense_os.service.scheduler.Scheduler.mContext</a></div><div class="ttdeci">final Context mContext</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00040">Scheduler.java:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab85308205a7415cf38ce2b54d52b503"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void nl.sense_os.service.scheduler.Scheduler.unregister </td>
          <td>(</td>
          <td class="paramtype">Runnable&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregisters a task.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00099">99</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                                          {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        Log.v(<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#acf450b13fdaf17189318786e6906c8c8">TAG</a>, <span class="stringliteral">&quot;Unregister sample task&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">for</span> (Task task : <a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">mTasks</a>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span> (task.runnable.equals(command)) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                mTasks.remove(task);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">// stop scheduling alarms</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        ScheduleAlarmTool scheduleTool = ScheduleAlarmTool.getInstance(<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">mContext</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        scheduleTool.cancelDeterministicAlarm();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        scheduleTool.cancelOpportunisticAlarm();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="comment">// update reschedule alarms</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        scheduleTool.setTasks(<a class="code" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">mTasks</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">if</span> (!mTasks.isEmpty()) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="comment">// reschedule! there are still other tasks</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            scheduleTool.resetNextExecution();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            scheduleTool.cancelDeterministicAlarm();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            scheduleTool.cancelOpportunisticAlarm();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            scheduleTool.schedule();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="comment">// nothing to do</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_a9e3ff8318a5d841ef34fa7197601057b"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#a9e3ff8318a5d841ef34fa7197601057b">nl.sense_os.service.scheduler.Scheduler.mTasks</a></div><div class="ttdeci">CopyOnWriteArrayList&lt; Task &gt; mTasks</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00041">Scheduler.java:41</a></div></div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_acf450b13fdaf17189318786e6906c8c8"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#acf450b13fdaf17189318786e6906c8c8">nl.sense_os.service.scheduler.Scheduler.TAG</a></div><div class="ttdeci">static final String TAG</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00024">Scheduler.java:24</a></div></div>
<div class="ttc" id="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_html_ae75abee91f9ba3e26e8c6d265a9dd60e"><div class="ttname"><a href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html#ae75abee91f9ba3e26e8c6d265a9dd60e">nl.sense_os.service.scheduler.Scheduler.mContext</a></div><div class="ttdeci">final Context mContext</div><div class="ttdef"><b>Definition:</b> <a href="_scheduler_8java_source.html#l00040">Scheduler.java:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae75abee91f9ba3e26e8c6d265a9dd60e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Context nl.sense_os.service.scheduler.Scheduler.mContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00040">40</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>

</div>
</div>
<a class="anchor" id="a9e3ff8318a5d841ef34fa7197601057b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CopyOnWriteArrayList&lt;<a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_1_1_task.html">Task</a>&gt; nl.sense_os.service.scheduler.Scheduler.mTasks = new CopyOnWriteArrayList&lt;<a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler_1_1_task.html">Task</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00041">41</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>

</div>
</div>
<a class="anchor" id="ad52bcc765640a6c74c214868a83c9fe4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html">Scheduler</a> nl.sense_os.service.scheduler.Scheduler.sInstance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00025">25</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>

</div>
</div>
<a class="anchor" id="acf450b13fdaf17189318786e6906c8c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String nl.sense_os.service.scheduler.Scheduler.TAG = &quot;Scheduler&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_scheduler_8java_source.html#l00024">24</a> of file <a class="el" href="_scheduler_8java_source.html">Scheduler.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/nl/sense_os/service/scheduler/<a class="el" href="_scheduler_8java_source.html">Scheduler.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacenl.html">nl</a></li><li class="navelem"><a class="el" href="namespacenl_1_1sense__os.html">sense_os</a></li><li class="navelem"><a class="el" href="namespacenl_1_1sense__os_1_1service.html">service</a></li><li class="navelem"><a class="el" href="namespacenl_1_1sense__os_1_1service_1_1scheduler.html">scheduler</a></li><li class="navelem"><a class="el" href="classnl_1_1sense__os_1_1service_1_1scheduler_1_1_scheduler.html">Scheduler</a></li>
    <li class="footer">Generated on Fri Mar 27 2015 18:17:28 for Sense Android Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
